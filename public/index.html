<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compliance Tracker - Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">ComplianceTracker</div>
                <div class="logo-subtitle">Work Tracking System</div>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Main</div>
                    <a class="nav-item active" data-page="dashboard">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="7" height="7" rx="1"></rect>
                            <rect x="14" y="3" width="7" height="7" rx="1"></rect>
                            <rect x="14" y="14" width="7" height="7" rx="1"></rect>
                            <rect x="3" y="14" width="7" height="7" rx="1"></rect>
                        </svg>
                        Dashboard
                    </a>
                    <a class="nav-item" data-page="matrix">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 3h18v18H3z"></path>
                            <path d="M3 9h18"></path>
                            <path d="M3 15h18"></path>
                            <path d="M9 3v18"></path>
                            <path d="M15 3v18"></path>
                        </svg>
                        Compliance Matrix
                    </a>
                    <a class="nav-item" data-page="calendar">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg>
                        Calendar
                    </a>
                    <a class="nav-item admin-only" data-page="monthsetup" style="display: none;">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                            <line x1="12" y1="14" x2="12" y2="18"></line>
                            <line x1="10" y1="16" x2="14" y2="16"></line>
                        </svg>
                        Month Setup
                    </a>
                </div>

                <div class="nav-section manager-only" style="display: none;">
                    <div class="nav-section-title">Administration</div>
                    <a class="nav-item" data-page="clients">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                        Clients
                    </a>
                    <a class="nav-item" data-page="lawgroups">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                        </svg>
                        Law Groups
                    </a>
                    <a class="nav-item" data-page="users">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <line x1="19" y1="8" x2="19" y2="14"></line>
                            <line x1="16" y1="11" x2="22" y2="11"></line>
                        </svg>
                        Users
                    </a>
                </div>
            </nav>

            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">M</div>
                    <div class="user-details">
                        <div class="user-name" id="userName">Manager</div>
                        <div class="user-role" id="userRole">Manager</div>
                    </div>
                    <button class="btn-icon" onclick="logout()" title="Logout">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18"
                            height="18">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16,17 21,12 16,7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                    </button>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Page -->
            <div id="page-dashboard" class="page">
                <header class="page-header">
                    <h1 class="page-title">Dashboard</h1>
                    <div class="header-actions">
                        <button class="btn btn-icon" onclick="changeMonth('dashboard', -1)"
                            title="Previous Month">&lt;</button>
                        <span id="dashboardMonthLabel" style="padding: 0 1rem; font-weight: 500;">January 2025</span>
                        <button class="btn btn-icon" onclick="changeMonth('dashboard', 1)"
                            title="Next Month">&gt;</button>
                    </div>
                </header>

                <div class="stats-grid" id="statsGrid">
                    <!-- Stats will be loaded here -->
                </div>

                <div class="matrix-container">
                    <h2 style="margin-bottom: 1rem;">Urgent Deadlines</h2>
                    <div id="urgentDeadlines">
                        <!-- Urgent items will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Compliance Matrix Page -->
            <div id="page-matrix" class="page" style="display: none;">
                <header class="page-header">
                    <h1 class="page-title">Compliance Matrix</h1>
                </header>

                <div class="filters-bar">
                    <div class="filter-group">
                        <button class="btn btn-icon" onclick="changeMonth('matrix', -1)"
                            title="Previous Month">&lt;</button>
                        <span id="matrixMonthLabel" style="padding: 0 1rem; font-weight: 500;">January 2025</span>
                        <button class="btn btn-icon" onclick="changeMonth('matrix', 1)" title="Next Month">&gt;</button>
                    </div>
                    <div class="filter-group">
                        <span class="filter-label">Law Group:</span>
                        <select id="matrixLawGroup" class="filter-select">
                            <option value="">All Law Groups</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <span class="filter-label">Status:</span>
                        <select id="matrixStatus" class="filter-select">
                            <option value="">All Statuses</option>
                            <option value="pending">Pending</option>
                            <option value="done">Done</option>
                            <option value="na">N/A</option>
                        </select>
                    </div>
                </div>

                <div class="matrix-container">
                    <div id="matrixContent">
                        <!-- Matrix will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Calendar Page -->
            <div id="page-calendar" class="page" style="display: none;">
                <header class="page-header">
                    <h1 class="page-title">Calendar</h1>
                    <div class="header-actions">
                        <select id="calendarClient" class="filter-select">
                            <option value="">All Clients</option>
                        </select>
                        <button class="btn btn-secondary" onclick="prevMonth()">← Prev</button>
                        <span id="calendarMonthLabel" style="font-weight: 600; padding: 0 1rem;"></span>
                        <button class="btn btn-secondary" onclick="nextMonth()">Next →</button>
                    </div>
                </header>

                <div class="matrix-container">
                    <div class="calendar-layout">
                        <div class="calendar-main" id="calendarContent">
                            <!-- Calendar grid will be loaded here -->
                        </div>
                        <div class="calendar-sidebar" id="calendarSidebar">
                            <div class="calendar-sidebar-header">Task Details</div>
                            <div class="calendar-sidebar-empty">
                                Click on a day to view tasks
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Month Setup Page (Admin only) -->
            <div id="page-monthsetup" class="page" style="display: none;">
                <header class="page-header">
                    <h1 class="page-title">Month Setup</h1>
                    <div class="header-actions">
                        <select id="setupMonth" class="filter-select" style="min-width: 200px;"></select>
                        <button class="btn btn-primary" onclick="saveMonthSetup()">Save All Changes</button>
                    </div>
                </header>

                <div class="matrix-container">
                    <div id="monthSetupContent">
                        <!-- Setup content will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Clients Page (Manager only) -->
            <div id="page-clients" class="page" style="display: none;">
                <header class="page-header">
                    <h1 class="page-title">Client Management</h1>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="showAddClientModal()">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18"
                                height="18">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Add Client
                        </button>
                    </div>
                </header>

                <div class="matrix-container">
                    <div id="clientsContent">
                        <!-- Clients will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Law Groups Page (Manager only) -->
            <div id="page-lawgroups" class="page" style="display: none;">
                <header class="page-header">
                    <h1 class="page-title">Law Groups & Compliances</h1>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="showAddLawGroupModal()">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18"
                                height="18">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Add Law Group
                        </button>
                    </div>
                </header>

                <div class="matrix-container">
                    <div id="lawGroupsContent">
                        <!-- Law groups will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Users Page (Admin only) -->
            <div id="page-users" class="page" style="display: none;">
                <header class="page-header">
                    <h1 class="page-title">User Management</h1>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="showAddUserModal()">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18"
                                height="18">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Add User
                        </button>
                    </div>
                </header>

                <div class="matrix-container">
                    <div id="usersContent">
                        <!-- Users will be loaded here -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal Container -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal" id="modal">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Modal Title</h2>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Modal content will be loaded here -->
            </div>
            <div class="modal-footer" id="modalFooter">
                <button class="btn btn-secondary" onclick="closeModal()">Cancel</button>
                <button class="btn btn-primary" id="modalSubmit">Save</button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="app.js"></script>
</body>

</html>